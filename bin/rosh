#!/usr/bin/env ruby



arg = ARGV.pop

if arg == '--irb'
  require 'irb'
  require_relative '../lib/rosh'
  IRB.setup '../lib/rosh'

  def r
    @r ||= Rosh.new
  end

  r.add_host('192.168.33.100', :centos5, user: 'vagrant',
    keys: [Dir.home + '/.vagrant.d/insecure_private_key'])
  r.add_host('192.168.33.102', :deb, user: 'vagrant',
    keys: [Dir.home + '/.vagrant.d/insecure_private_key'])
  r.add_host('192.168.33.104', :freebsd, user: 'vagrant',
    keys: [Dir.home + '/.vagrant.d/insecure_private_key'])
  r.add_host('192.168.33.110', :ubuntu, user: 'vagrant',
    keys: [Dir.home + '/.vagrant.d/insecure_private_key'])
  r.add_host('localhost', :local)

  IRB.start
else
  require_relative '../lib/rosh/cli'

  begin
    Rosh::CLI.run
  end
end




